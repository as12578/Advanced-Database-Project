// Test 19
// An almost circular deadlock scenario with failures.
// T3 fails (T2 and T4 do not fail because the site is up when they execute)
// because site 4 fails.
// All others succeed.
begin(T1)
begin(T2)
begin(T3)
begin(T4)
begin(T5)
R(T3,x3)
fail(4)
recover(4)
R(T4,x4)
R(T5,x5)
R(T1,x6)
R(T2,x2)
W(T1,x2,10)
querystate()
W(T2,x3,20)
querystate()
W(T3,x4,30)
querystate()
W(T5,x1,50)
querystate()
end(T5)
W(T4,x5,40)
querystate()
end(T4)
end(T3)
end(T2)
querystate()
end(T1)