# Test Waiting for site to recover
begin(T1)

begin(T2)

fail(2)

# Will write to all sites except 2
W(T2, x2, 1010)

# Will wait for site 2 to recover
W(T1, x1, 2)

querystate()

=============================System State=============================
Current Time = 5

=========================Current Transactions=========================
Transaction: T1
Read Only: False
Start Time: 1
Aborted: False
Locks:
	x1: 
Pending Operation: 
Write x1: 2
Pending Sites: [] 
Written Sites: []

Transaction: T2
Read Only: False
Start Time: 2
Aborted: False
Locks:
	x2: 1:EXCLUSIVE:4   3:EXCLUSIVE:4   4:EXCLUSIVE:4   5:EXCLUSIVE:4   6:EXCLUSIVE:4   7:EXCLUSIVE:4   8:EXCLUSIVE:4   9:EXCLUSIVE:4   10:EXCLUSIVE:4
Pending Operation: 

======================================================================

============================All Site State============================
Site: 1
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 2
Start Time: 0
Available: False
Stable: False
Granted Locks:
	
Waiting Locks:
	
All Data:
	x1: :10:0
	x2: :20:0
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x11: :110:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 
T1: Write x1: 2

Site: 3
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 4
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x3: :30:0
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x13: :130:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 5
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 6
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x5: :50:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x15: :150:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 7
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 8
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x7: :70:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x17: :170:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 9
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 10
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x9: :90:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x19: :190:0
	x20: :200:0
Pending Operations: 

======================================================================
======================================================================
# Should not let T1 proceed yet
recover(2)

querystate()

=============================System State=============================
Current Time = 6

=========================Current Transactions=========================
Transaction: T1
Read Only: False
Start Time: 1
Aborted: False
Locks:
	x1: 
Pending Operation: 
Write x1: 2
Pending Sites: [] 
Written Sites: []

Transaction: T2
Read Only: False
Start Time: 2
Aborted: False
Locks:
	x2: 1:EXCLUSIVE:4   3:EXCLUSIVE:4   4:EXCLUSIVE:4   5:EXCLUSIVE:4   6:EXCLUSIVE:4   7:EXCLUSIVE:4   8:EXCLUSIVE:4   9:EXCLUSIVE:4   10:EXCLUSIVE:4
Pending Operation: 

======================================================================

============================All Site State============================
Site: 1
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 2
Start Time: 6
Available: True
Stable: False
Granted Locks:
	
Waiting Locks:
	
All Data:
	x1: :10:0
	x2: :20:0
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x11: :110:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 
T1: Write x1: 2

Site: 3
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 4
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x3: :30:0
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x13: :130:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 5
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 6
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x5: :50:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x15: :150:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 7
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 8
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x7: :70:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x17: :170:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 9
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 10
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x9: :90:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x19: :190:0
	x20: :200:0
Pending Operations: 

======================================================================
======================================================================
# Should not allow T2 to read x1 yet
R(T2, x1)

querystate()

=============================System State=============================
Current Time = 7

=========================Current Transactions=========================
Transaction: T1
Read Only: False
Start Time: 1
Aborted: False
Locks:
	x1: 
Pending Operation: 
Write x1: 2
Pending Sites: [] 
Written Sites: []

Transaction: T2
Read Only: False
Start Time: 2
Aborted: False
Locks:
	x2: 1:EXCLUSIVE:4   3:EXCLUSIVE:4   4:EXCLUSIVE:4   5:EXCLUSIVE:4   6:EXCLUSIVE:4   7:EXCLUSIVE:4   8:EXCLUSIVE:4   9:EXCLUSIVE:4   10:EXCLUSIVE:4
	x1: 
Pending Operation: Read x1

======================================================================

============================All Site State============================
Site: 1
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 2
Start Time: 6
Available: True
Stable: False
Granted Locks:
	
Waiting Locks:
	
All Data:
	x1: :10:0
	x2: :20:0
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x11: :110:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 
T1: Write x1: 2
T2: Read x1

Site: 3
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 4
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x3: :30:0
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x13: :130:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 5
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 6
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x5: :50:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x15: :150:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 7
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 8
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x7: :70:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x17: :170:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 9
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 10
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x9: :90:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x19: :190:0
	x20: :200:0
Pending Operations: 

======================================================================
======================================================================
begin(T3)

# Write x1
W(T3, x1, 5)

querystate()

=============================System State=============================
Current Time = 9

=========================Current Transactions=========================
Transaction: T1
Read Only: False
Start Time: 1
Aborted: False
Locks:
	x1: 
Pending Operation: 
Write x1: 2
Pending Sites: [] 
Written Sites: []

Transaction: T2
Read Only: False
Start Time: 2
Aborted: False
Locks:
	x2: 1:EXCLUSIVE:4   3:EXCLUSIVE:4   4:EXCLUSIVE:4   5:EXCLUSIVE:4   6:EXCLUSIVE:4   7:EXCLUSIVE:4   8:EXCLUSIVE:4   9:EXCLUSIVE:4   10:EXCLUSIVE:4
	x1: 
Pending Operation: Read x1

Transaction: T3
Read Only: False
Start Time: 8
Aborted: False
Locks:
	x1: 2:EXCLUSIVE:9
Pending Operation: 

======================================================================

============================All Site State============================
Site: 1
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 2
Start Time: 6
Available: True
Stable: True
Granted Locks:
	x1: T3:EXCLUSIVE
Waiting Locks:
	x1: T1:EXCLUSIVE, T2:SHARED
All Data:
	x1: :10:0 T3:5:-1
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x11: :110:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 3
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 4
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x3: :30:0
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x13: :130:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 5
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 6
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x5: :50:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x15: :150:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 7
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 8
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x7: :70:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x17: :170:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 9
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 10
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x9: :90:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x19: :190:0
	x20: :200:0
Pending Operations: 

======================================================================
======================================================================
# Now let T1 write x1 = 2
end(T3)
T3 commits

querystate()

=============================System State=============================
Current Time = 10

=========================Current Transactions=========================
Transaction: T1
Read Only: False
Start Time: 1
Aborted: False
Locks:
	x1: 2:EXCLUSIVE:10
Pending Operation: 

Transaction: T2
Read Only: False
Start Time: 2
Aborted: False
Locks:
	x2: 1:EXCLUSIVE:4   3:EXCLUSIVE:4   4:EXCLUSIVE:4   5:EXCLUSIVE:4   6:EXCLUSIVE:4   7:EXCLUSIVE:4   8:EXCLUSIVE:4   9:EXCLUSIVE:4   10:EXCLUSIVE:4
	x1: 
Pending Operation: Read x1

======================================================================

============================All Site State============================
Site: 1
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 2
Start Time: 6
Available: True
Stable: True
Granted Locks:
	x1: T1:EXCLUSIVE
Waiting Locks:
	x1: T2:SHARED
All Data:
	x1: :10:0 T3:5:10 T1:2:-1
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x11: :110:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 3
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 4
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x3: :30:0
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x13: :130:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 5
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 6
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x5: :50:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x15: :150:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 7
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 8
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x7: :70:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x17: :170:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 9
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 10
Start Time: 0
Available: True
Stable: True
Granted Locks:
	x2: T2:EXCLUSIVE
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:-1
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x9: :90:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x19: :190:0
	x20: :200:0
Pending Operations: 

======================================================================
======================================================================
# Now let T2 read x1 = 2
end(T1)
T1 commits
T2 - x1: 2

end(T2)
T2 commits


=============================System State=============================
Current Time = 12

=========================Current Transactions=========================
======================================================================

============================All Site State============================
Site: 1
Start Time: 0
Available: True
Stable: True
Granted Locks:
	
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:12
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 2
Start Time: 6
Available: True
Stable: True
Granted Locks:
	
Waiting Locks:
	
All Data:
	x1: :10:0 T3:5:10 T1:2:11
	x2: :20:0 T2:1010:12
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x11: :110:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 3
Start Time: 0
Available: True
Stable: True
Granted Locks:
	
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:12
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 4
Start Time: 0
Available: True
Stable: True
Granted Locks:
	
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:12
	x3: :30:0
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x13: :130:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 5
Start Time: 0
Available: True
Stable: True
Granted Locks:
	
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:12
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 6
Start Time: 0
Available: True
Stable: True
Granted Locks:
	
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:12
	x4: :40:0
	x5: :50:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x15: :150:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 7
Start Time: 0
Available: True
Stable: True
Granted Locks:
	
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:12
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 8
Start Time: 0
Available: True
Stable: True
Granted Locks:
	
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:12
	x4: :40:0
	x6: :60:0
	x7: :70:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x17: :170:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 9
Start Time: 0
Available: True
Stable: True
Granted Locks:
	
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:12
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x20: :200:0
Pending Operations: 

Site: 10
Start Time: 0
Available: True
Stable: True
Granted Locks:
	
Waiting Locks:
	
All Data:
	x2: :20:0 T2:1010:12
	x4: :40:0
	x6: :60:0
	x8: :80:0
	x9: :90:0
	x10: :100:0
	x12: :120:0
	x14: :140:0
	x16: :160:0
	x18: :180:0
	x19: :190:0
	x20: :200:0
Pending Operations: 

======================================================================
======================================================================
